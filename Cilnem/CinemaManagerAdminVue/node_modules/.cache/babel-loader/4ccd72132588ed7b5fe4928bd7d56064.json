{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\src\\assets\\js\\permission.js","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\src\\assets\\js\\permission.js","mtime":1651665518000},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\babel.config.js","mtime":1651665518000},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688267736415},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\node_modules\\babel-loader\\lib\\index.js","mtime":1688267739465}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwovKirmnYPpmZDmjIfku6QqKi8KY29uc3QgaGFzID0gVnVlLmRpcmVjdGl2ZSgnaGFzJywgewogIC8vIOW9k+iiq+e7keWumueahOWFg+e0oOaPkuWFpeWIsCBET00g5Lit5pe24oCm4oCmCiAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIChlbCwgYmluZGluZywgdm5vZGUpIHsKICAgIGxldCBidG5QZXJtaXNzaW9uID0gJyc7CiAgICAvLyDojrflj5bot6/nlLHmjInpkq7mnYPpmZDvvIzot6/nlLHnmoRqc+aWh+S7tuS4remFjee9ru+8jOaYr+aTjeS9nOaJgOmcgOimgeeahOadg+mZkAogICAgYnRuUGVybWlzc2lvbiA9IHZub2RlLmNvbnRleHQuJHJvdXRlLm1ldGEuYnRuUGVybWlzc2lvbjsKICAgIGlmICghVnVlLnByb3RvdHlwZS4kX2hhcyhidG5QZXJtaXNzaW9uKSkgewogICAgICBjb25zb2xlLmxvZygibm90IGhhdmUgdGhpcyBwZXJtaXNzaW9uIik7CiAgICAgIGVsLnJlbW92ZSgpOwogICAgfQogIH0KfSk7Ci8vIOadg+mZkOajgOafpeaWueazlQpWdWUucHJvdG90eXBlLiRfaGFzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgbGV0IGJ0blBlcm1pc3Npb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJidG5QZXJtaXNzaW9uIik7CiAgaWYgKGJ0blBlcm1pc3Npb24gPT0gdW5kZWZpbmVkIHx8IGJ0blBlcm1pc3Npb24gPT0gbnVsbCkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KICAvLyB2YWx1ZSDmmK/ot6/nlLHkuK3miYDpnIDopoHnmoTmnYPpmZDvvIxidG5QZXJtaXNzaW9u5piv5a6e6ZmF5oul5pyJ55qE5p2D6ZmQ77yM5ZyoTG9naW4udnVl55m75b2V5pe25o6I5p2DCiAgLy8gY29uc29sZS5sb2codmFsdWUgKyAiICAgPT09IHRlc3QgPT09ICAgIiArIGJ0blBlcm1pc3Npb24pCiAgbGV0IHJlcyA9IHZhbHVlID09IGJ0blBlcm1pc3Npb247CiAgaWYgKHJlcykgcmV0dXJuIHRydWU7CiAgcmV0dXJuIGZhbHNlOwp9OwpleHBvcnQgeyBoYXMgfTs="},{"version":3,"names":["Vue","has","directive","inserted","el","binding","vnode","btnPermission","context","$route","meta","prototype","$_has","console","log","remove","value","sessionStorage","getItem","undefined","res"],"sources":["D:/Work/WorkSpace/GitWorkSpace/TenShop/resource/CinemaManager/src/CinemaManagerAdminVue/src/assets/js/permission.js"],"sourcesContent":["import Vue from 'vue'\n/**权限指令**/\nconst has = Vue.directive('has', {\n    // 当被绑定的元素插入到 DOM 中时……\n    inserted: function (el, binding, vnode) {\n        let btnPermission = '';\n        // 获取路由按钮权限，路由的js文件中配置，是操作所需要的权限\n        btnPermission = vnode.context.$route.meta.btnPermission;\n        if (!Vue.prototype.$_has(btnPermission)) {\n            console.log(\"not have this permission\");\n            el.remove()\n        }\n    }\n});\n// 权限检查方法\nVue.prototype.$_has = function (value) {\n    let btnPermission = sessionStorage.getItem(\"btnPermission\");\n    if (btnPermission == undefined || btnPermission == null) {\n        return false;\n    }\n    // value 是路由中所需要的权限，btnPermission是实际拥有的权限，在Login.vue登录时授权\n    // console.log(value + \"   === test ===   \" + btnPermission)\n    let res = value == btnPermission\n    if(res) return true\n    return false\n};\n\nexport {has}"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB;AACA,MAAMC,GAAG,GAAGD,GAAG,CAACE,SAAS,CAAC,KAAK,EAAE;EAC7B;EACAC,QAAQ,EAAE,SAAAA,CAAUC,EAAE,EAAEC,OAAO,EAAEC,KAAK,EAAE;IACpC,IAAIC,aAAa,GAAG,EAAE;IACtB;IACAA,aAAa,GAAGD,KAAK,CAACE,OAAO,CAACC,MAAM,CAACC,IAAI,CAACH,aAAa;IACvD,IAAI,CAACP,GAAG,CAACW,SAAS,CAACC,KAAK,CAACL,aAAa,CAAC,EAAE;MACrCM,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;MACvCV,EAAE,CAACW,MAAM,CAAC,CAAC;IACf;EACJ;AACJ,CAAC,CAAC;AACF;AACAf,GAAG,CAACW,SAAS,CAACC,KAAK,GAAG,UAAUI,KAAK,EAAE;EACnC,IAAIT,aAAa,GAAGU,cAAc,CAACC,OAAO,CAAC,eAAe,CAAC;EAC3D,IAAIX,aAAa,IAAIY,SAAS,IAAIZ,aAAa,IAAI,IAAI,EAAE;IACrD,OAAO,KAAK;EAChB;EACA;EACA;EACA,IAAIa,GAAG,GAAGJ,KAAK,IAAIT,aAAa;EAChC,IAAGa,GAAG,EAAE,OAAO,IAAI;EACnB,OAAO,KAAK;AAChB,CAAC;AAED,SAAQnB,GAAG"}]}