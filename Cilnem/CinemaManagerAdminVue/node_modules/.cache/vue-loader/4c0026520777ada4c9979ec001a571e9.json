{"remainingRequest":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\src\\views\\Login.vue?vue&type=style&index=0&id=26084dc2&scoped=true&lang=css&","dependencies":[{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\src\\views\\Login.vue","mtime":1688784894222},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1688267737933},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1688267741900},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\node_modules\\postcss-loader\\src\\index.js","mtime":1688267739453},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1688267736415},{"path":"D:\\Work\\WorkSpace\\GitWorkSpace\\TenShop\\resource\\CinemaManager\\src\\CinemaManagerAdminVue\\node_modules\\vue-loader\\lib\\index.js","mtime":1688267740672}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5sb2dpbl9jb250YWluZXJ7CiAgaGVpZ2h0OiAxMDAlOwp9CgoubG9naW5fYm94ewogIHdpZHRoOiA0NTBweDsKICBoZWlnaHQ6IDMwMHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgYm9yZGVyLXJhZGl1czogM3B4OwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiA1MCU7CiAgdG9wOiA1MCU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgYm9yZGVyOiAxcHggc29saWQgZ3JleTsKfQoKLmF2YXRhcl9ib3h7CiAgaGVpZ2h0OiAxMzBweDsKICB3aWR0aDogMTMwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2VlZTsKICBib3JkZXItcmFkaXVzOiA1MCU7CiAgcGFkZGluZzogMTBweDsKICBib3gtc2hhZG93OiAwIDAgMTBweCAjZGRkOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiA1MCU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQoKLmF2YXRhcl9ib3ggPiBpbWd7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIGJvcmRlci1yYWRpdXM6IDUwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlOwp9CgoudGl0bGVfYm94ewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBmb250LXNpemU6IDIwMCU7Cn0KCi5sb2dpbl9mb3JtewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBib3R0b206IDA7CiAgd2lkdGg6IDEwMCU7CiAgcGFkZGluZzogMCAyMHB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KCi5idG5zewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AAkFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login_container\">\n    <div class=\"login_box\">\n      <div class=\"title_box\">\n        <p>影院后台管理</p>\n      </div>\n      <!-- 登录表单区域 -->\n      <el-form class=\"login_form\" :model=\"loginForm\" :rules=\"loginFormRules\" ref=\"loginFormRef\">\n        <!-- 用户名 -->\n        <el-form-item prop=\"userName\">\n          <el-input v-model=\"loginForm.userName\" placeholder=\"请输入用户名\" clearable\n                    prefix-icon=\"iconfont icon-user\"></el-input>\n        </el-form-item>\n        <!-- 密码 -->\n        <el-form-item prop=\"password\">\n          <el-input v-model=\"loginForm.password\" type=\"password\" placeholder=\"请输入密码\" show-password\n                    prefix-icon=\"iconfont icon-lock\"></el-input>\n        </el-form-item>\n        <!-- 按扭区域 -->\n        <el-form-item class=\"btns\">\n          <el-button size=\"medium\" :round=\"true\" type=\"primary\" @click=\"login\">点击登录</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      //登录表单数据对象\n      loginForm: {\n        userName: '',\n        password: ''\n      },\n      //表单验证规则\n      loginFormRules: {\n        //验证用户名\n        userName: [\n          { required: true, message: \"请输入用户名称\", trigger: \"blur\"},\n          { min:2, max: 20, message: \"长度在2到20个字符之间\", trigger: \"blur\"}\n        ],\n        //验证密码\n        password: [\n          { required: true, message: \"请输入密码\", trigger: \"blur\"},\n          { min:6, max: 16, message: \"长度在6到16个字符之间\", trigger: \"blur\"}\n        ]\n      }\n    }\n  },\n  methods:{\n    success(params) {\n      this.login()\n    },\n    login() {\n      this.$refs.loginFormRef.validate(async valid => {\n        if(!valid) return;\n        axios.defaults.headers.post['Content-Type'] = 'application/json'\n        const { data: res} = await axios.post('sysUser/login', JSON.stringify(this.loginForm));\n        if(res.code !== 200) return this.$message.error(res.msg);\n        //控制登录权限\n        if(res.data.sysUser.sysRole.children === null || res.data.sysUser.sysRole.children[0] === null) {\n          this.$message.error(\"抱歉，您没有权限登录，请联系管理员获取权限\")\n          return\n        }\n        this.$message.success(\"登录成功\")\n        //保存token\n        window.sessionStorage.setItem(\"token\", res.data.token)\n        window.sessionStorage.setItem(\"loginUser\", JSON.stringify({sysUser : res.data.sysUser, cinemaId : res.data.cinemaId, cinemaName : res.data.cinemaName}));\n        // window.sessionStorage.setItem(\"btnPermission\", res.data.sysUser.sysRole.roleId === 1 ? \"admin\" : \"normal\")\n        window.sessionStorage.setItem(\"btnPermission\", res.data.sysUser.sysRole.roleId === 1 ? \"admin\" : \"admin\")\n        //导航跳转到首页\n        await this.$router.push('/welcome');\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login_container{\n  height: 100%;\n}\n\n.login_box{\n  width: 450px;\n  height: 300px;\n  background-color: #fff;\n  border-radius: 3px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid grey;\n}\n\n.avatar_box{\n  height: 130px;\n  width: 130px;\n  border: 1px solid #eee;\n  border-radius: 50%;\n  padding: 10px;\n  box-shadow: 0 0 10px #ddd;\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n}\n\n.avatar_box > img{\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n  background-color: #eee;\n}\n\n.title_box{\n  text-align: center;\n  font-size: 200%;\n}\n\n.login_form{\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  padding: 0 20px;\n  box-sizing: border-box;\n}\n\n.btns{\n  display: flex;\n  justify-content: center;\n}\n</style>\n"]}]}